var patient;FHIR.oauth2.ready(function(e){patient=e.context.patient,patient.read().then(function(e){console.log("Patient : ",e);var t=e.name[0],n=t.given.join(" ")+" "+t.family;$("#patientName").text(n)}),patient.Observation.where.code("8302-2").date(">2001")._count(20)._sortDesc("date").search().then(function(e){console.log("observations : ",e),e.forEach(function(e){if(console.log("Observation : ",e),e.hasOwnProperty("effectiveDateTime")&&e.hasOwnProperty("valueQuantity")&&e.valueQuantity.hasOwnProperty("value")&&e.valueQuantity.hasOwnProperty("unit")){var t=$("<tr><td>"+e.effectiveDateTime+"</td><td>"+e.valueQuantity.value+e.valueQuantity.unit+"</td></tr>");$("#observation_list").append(t)}})}),console.log("Patient observation search result : ",patient.Observation.where.search()),patient.AllergyIntolerance.where.search().then(function(e){console.log("Allergy : ",e)})});